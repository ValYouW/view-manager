<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>View Saver</title>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js"></script>

    <script type="text/javascript">
        var myApp = angular.module('viewMgrApp', []);
        myApp.controller('viewMgrAppCtrl', function ($scope, $timeout) {
            $scope.viewMgrApi = {};
            $scope.viewMgrApi.onSave = function(data) {
                var resDiv = document.getElementById('result');
	            resDiv.innerHTML = JSON.stringify(data, null, 2);
	            //resDiv.innerHTML = JSON.stringify(data, null, 2).replace(/\n/g, '<br />');
            };

            $timeout(function() {
	            $scope.model = getModel();
                $scope.viewMgrApi.loadData($scope.model);
            }, 200);
        });

        function getModel() {
	        return {
		        availableFilters: [
			        {
				        id: 'country',
				        text: 'Country',
				        options: [
					        {id: 'IL', text: 'Israel'},
					        {id: 'GB', text: 'Great Britain'},
					        {id: 'US', text: 'United States'}
				        ]
			        },
			        {
				        id: 'leadStatus',
				        text: 'Lead Status',
				        options: [
					        {id: '0', text: 'Trader'},
					        {id: '1', text: 'Potential'},
					        {id: '2', text: 'Non Eligible'}
				        ]
			        },
			        {
				        id: 'leadReason',
				        text: 'Lead Reason',
				        options: [
					        {id: '0', text: 'Meeting'},
					        {id: '1', text: 'No Answer'},
					        {id: '2', text: 'Under-Aged'}
				        ]
			        }
		        ],
		        filters: [
			        {id: 'leadStatus', value: '2'},
			        {id: 'country', value: 'IL'}
		        ],
		        availableColumns: {
			        leadStatus: {id: 'leadStatus', text: 'Lead Status'},
			        leadReason: {id: 'leadReason', text: 'Lead Reason'},
			        country: {id: 'country', text: 'Country'},
			        lastLoginDate: {id: 'lastLoginDate', text: 'Last Login Date'},
			        assignedTo: {id: 'assignedTo', text: 'Assigned To'}
		        },
		        columns: ['country', 'assignedTo']
	        };
        }

    </script>

    <script src="view-mgr-drv.js"></script>
	<script src="pxbo-combo-drv.js"></script>
</head>
<body>

<div ng-app="viewMgrApp" ng-controller="viewMgrAppCtrl" style="width: 600px">
    <pxbo-view-mgr-drv api="viewMgrApi"></pxbo-view-mgr-drv>
</div>
<textarea disabled id="result" style="width: 300px; height: 300px"></textarea>
</body>
</html>